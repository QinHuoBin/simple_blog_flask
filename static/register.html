<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MyBlog~</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
    <script src="https://cdn.staticfile.org/axios/0.18.0/axios.js"></script>
</head>
<body>
<a href="/">首页</a>
<h2>欢迎 {U1048596.solar.earth.human}，请 <a href="/post_note.html">发表帖子</a></h2>
<div id="app">
    <h5>注册用户：</h5>
    <p>用户：</p><input v-model="username" placeholder="username">
    <p>密码：</p><input v-model="password" placeholder="password">
    <button @click="submit">注册</button>
    <h3 v-if=server_message>{{server_message}}</h3>
    <p>现在时间是：{{date}}</p>
</div>
<script>var app = new Vue({
    el: '#app',
    data: {
        username: null,
        password: null,
        date: new Date(),
        server_message: null
    },
    mounted() {
        let _this = this
        this.timer = setInterval(() => {
            _this.date = new Date(); // 修改数据date
        }, 1000)
    },
    methods: {
        submit: function () {
            axios.get('/api/register_user?username=' + this.username + '&password=' + this.password).then(response => (this.server_message = response.data))
        }
    }
})</script>
</body>
</html>